<!-- layout.html -->
<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>agentscope.utils.common module &mdash; AgentScope  文档</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=c9484b72" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=7d86a446"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/translations.js?v=beaddf03"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="agentscope.utils.token_utils module" href="agentscope.utils.token_utils.html" />
    <link rel="prev" title="agentscope.utils package" href="agentscope.utils.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" > 

          
          
          <a href="index.html" class="icon icon-home">
            AgentScope
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div> <!-- language_selector.html -->
<div class="language-selector">
    <a href="../en/agentscope.utils.common.html">English</a></li> |
    <a href="../zh_CN/agentscope.utils.common.html">中文</a></li>
</div> 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">AgentScope 教程</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial/101-agentscope.html">关于AgentScope</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/102-installation.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/103-example.html">快速开始</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/203-model.html">模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/203-stream.html">流式输出</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/206-prompt.html">提示工程</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/201-agent.html">Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/205-memory.html">记忆</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/203-parser.html">结果解析</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/209-prompt_opt.html">系统提示优化</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/204-service.html">工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/202-pipeline.html">Pipeline和MsgHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/208-distribute.html">分布式</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/209-gui.html">AgentScope Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/210-rag.html">简要介绍AgentScope中的RAG</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/105-logging.html">日志</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/207-monitor.html">监控</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/104-usecase.html">样例：狼人杀游戏</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/contribute.html">参与贡献</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AgentScope API 文档</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="agentscope.html">agentscope package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.message.html">agentscope.message package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.models.html">agentscope.models package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.agents.html">agentscope.agents package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.memory.html">agentscope.memory package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.parsers.html">agentscope.parsers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.exception.html">agentscope.exception module</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.pipelines.html">agentscope.pipelines package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.service.html">agentscope.service package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.rpc.html">agentscope.rpc package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.server.html">agentscope.server package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.web.html">agentscope.web package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.prompt.html">agentscope.prompt package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="agentscope.utils.html">agentscope.utils package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="agentscope.utils.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">agentscope.utils.common module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.utils.common.timer"><code class="docutils literal notranslate"><span class="pre">timer()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.utils.common.create_tempdir"><code class="docutils literal notranslate"><span class="pre">create_tempdir()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.utils.common.chdir"><code class="docutils literal notranslate"><span class="pre">chdir()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.utils.common.write_file"><code class="docutils literal notranslate"><span class="pre">write_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.utils.common.requests_get"><code class="docutils literal notranslate"><span class="pre">requests_get()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="agentscope.utils.token_utils.html">agentscope.utils.token_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="agentscope.utils.tools.html">agentscope.utils.tools module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="agentscope.utils.html#module-agentscope.utils">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AgentScope</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="agentscope.html">agentscope package</a></li>
          <li class="breadcrumb-item"><a href="agentscope.utils.html">agentscope.utils package</a></li>
      <li class="breadcrumb-item active">agentscope.utils.common module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/agentscope.utils.common.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-agentscope.utils.common">
<span id="agentscope-utils-common-module"></span><h1>agentscope.utils.common module<a class="headerlink" href="#module-agentscope.utils.common" title="Link to this heading"></a></h1>
<p>Common utils.</p>
<dl class="py function">
<dt class="sig sig-object py" id="agentscope.utils.common.timer">
<span class="sig-prename descclassname"><span class="pre">agentscope.utils.common.</span></span><span class="sig-name descname"><span class="pre">timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span></span></span><a class="reference internal" href="_modules/agentscope/utils/common.html#timer"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.utils.common.timer" title="Link to this definition"></a></dt>
<dd><p>A context manager that limits the execution time of a code block to a
given number of seconds.
The implementation of this contextmanager are borrowed from
<a class="reference external" href="https://github.com/openai/human-eval/blob/master/human_eval/execution.py">https://github.com/openai/human-eval/blob/master/human_eval/execution.py</a></p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This function only works in Unix and MainThread,
since <cite>signal.setitimer</cite> is only available in Unix.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="agentscope.utils.common.create_tempdir">
<span class="sig-prename descclassname"><span class="pre">agentscope.utils.common.</span></span><span class="sig-name descname"><span class="pre">create_tempdir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span></span></span><a class="reference internal" href="_modules/agentscope/utils/common.html#create_tempdir"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.utils.common.create_tempdir" title="Link to this definition"></a></dt>
<dd><p>A context manager that creates a temporary directory and changes the
current working directory to it.
The implementation of this contextmanager are borrowed from
<a class="reference external" href="https://github.com/openai/human-eval/blob/master/human_eval/execution.py">https://github.com/openai/human-eval/blob/master/human_eval/execution.py</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="agentscope.utils.common.chdir">
<span class="sig-prename descclassname"><span class="pre">agentscope.utils.common.</span></span><span class="sig-name descname"><span class="pre">chdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span></span></span><a class="reference internal" href="_modules/agentscope/utils/common.html#chdir"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.utils.common.chdir" title="Link to this definition"></a></dt>
<dd><p>A context manager that changes the current working directory to the
given path.
The implementation of this contextmanager are borrowed from
<a class="reference external" href="https://github.com/openai/human-eval/blob/master/human_eval/execution.py">https://github.com/openai/human-eval/blob/master/human_eval/execution.py</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="agentscope.utils.common.write_file">
<span class="sig-prename descclassname"><span class="pre">agentscope.utils.common.</span></span><span class="sig-name descname"><span class="pre">write_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="agentscope.service.service_response.html#agentscope.service.service_response.ServiceResponse" title="agentscope.service.service_response.ServiceResponse"><span class="pre">ServiceResponse</span></a></span></span><a class="reference internal" href="_modules/agentscope/utils/common.html#write_file"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.utils.common.write_file" title="Link to this definition"></a></dt>
<dd><p>Write content to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<em>str</em>) – The content to be written to the file.</p></li>
<li><p><strong>file_path</strong> (<em>str</em>) – The path to the file where the content will be
written.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>where the boolean indicates the success of the
operation, and the str contains an empty string if successful or an
error message if any, including the error type.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="agentscope.service.html#agentscope.service.ServiceResponse" title="agentscope.service.ServiceResponse">ServiceResponse</a></p>
</dd>
</dl>
<p>This function attempts to open the file in write mode and write the
provided content to it. If the file does not exist, it will be created.
If the file exists, its content will be overwritten. If a
PermissionError occurs, indicating a lack of necessary permissions,
or an IOError occurs, signaling additional issues such as an invalid
file path or hardware-related I/O error, the function will catch the
exception and return <cite>False</cite> along with the error message.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="agentscope.utils.common.requests_get">
<span class="sig-prename descclassname"><span class="pre">agentscope.utils.common.</span></span><span class="sig-name descname"><span class="pre">requests_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></span><a class="reference internal" href="_modules/agentscope/utils/common.html#requests_get"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.utils.common.requests_get" title="Link to this definition"></a></dt>
<dd><p>Sends a GET request to the specified URL with the provided query parameters
and headers. Returns the JSON response as a dictionary.</p>
<dl class="simple">
<dt>This function handles the request, checks for errors, logs exceptions,</dt><dd><p>and parses the JSON response.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – The URL to which the GET request is sent.</p></li>
<li><p><strong>params</strong> (<em>Dict</em>) – A dictionary containing query parameters to be included
in the request.</p></li>
<li><p><strong>headers</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>]</em>) – An optional dictionary of HTTP headers to
send with the request.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>If the request is successful, returns a dictionary containing the
parsed JSON data.
If the request fails, returns the error string.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict or str</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="agentscope.utils.html" class="btn btn-neutral float-left" title="agentscope.utils package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="agentscope.utils.token_utils.html" class="btn btn-neutral float-right" title="agentscope.utils.token_utils module" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2024, Alibaba Tongyi Lab。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>